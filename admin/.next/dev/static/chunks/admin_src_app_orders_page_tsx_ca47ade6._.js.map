{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohamedamrin/Desktop/Web2Print/admin/src/app/orders/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, DragEvent } from \"react\";\nimport { Search, Filter, MoreVertical, Plus, Truck, CheckCircle, Clock, AlertCircle, X, ChevronRight, Calculator, FileText, Printer, MoreHorizontal, ArrowRight, Settings, LayoutGrid, List as ListIcon, ChevronDown, ChevronUp, Calendar, AlertTriangle, Smartphone, Trash2 } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\n\n// --- Types ---\ninterface WorkflowColumn {\n    id: string;\n    title: string;\n    color: string;\n    subtitle?: string;\n}\n\ninterface Order {\n    id: string;\n    customer: string;\n    phone: string;\n    email?: string;\n    total: number;\n    status: string; // Dynamic status\n    deadline: string;\n    source: string;\n    invoiceNo?: string;\n    priority: string;\n    fileStatus: string;\n    specs: {\n        productName: string;\n        size: string;\n        material: string;\n        quantity: number;\n        department: string;\n        printSide?: string;\n        finishing?: string;\n    };\n    date?: string;\n    history?: {\n        date: string;\n        action: string;\n        details?: string;\n        user?: string; // Optional: \"Admin\" or \"Designer\"\n    }[];\n}\n\nconst DEFAULT_COLUMNS: WorkflowColumn[] = [\n    { id: \"col-1\", title: \"New Order\", color: \"bg-gray-500\", subtitle: \"Web & Manual Orders\" },\n    { id: \"col-2\", title: \"Artwork Checking\", color: \"bg-red-400\", subtitle: \"DPI / Bleed Check\" },\n    { id: \"col-3\", title: \"Designing\", color: \"bg-pink-400\", subtitle: \"Design Proofing\" },\n    { id: \"col-4\", title: \"Ready to Print\", color: \"bg-blue-500\", subtitle: \"Handover Zone\" },\n    { id: \"col-5\", title: \"Production\", color: \"bg-indigo-500\", subtitle: \"Printing & RIP\" },\n    { id: \"col-6\", title: \"Finishing\", color: \"bg-purple-500\", subtitle: \"Cutting, Lamination\" },\n    { id: \"col-7\", title: \"Completed / Ready\", color: \"bg-green-500\", subtitle: \"QC Passed, Cleanup\" },\n];\n\nexport default function AdminOrdersPage() {\n    const router = useRouter();\n    const [orders, setOrders] = useState<Order[]>([]);\n    const [columns, setColumns] = useState<WorkflowColumn[]>(DEFAULT_COLUMNS);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [highlightedId, setHighlightedId] = useState<string | null>(null);\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n    const [selectedOrder, setSelectedOrder] = useState<Order | null>(null); // For Modal\n    const [viewMode, setViewMode] = useState<'board' | 'list'>('board');\n    const [dateRange, setDateRange] = useState({ from: '', to: '' });\n    const [searchQuery, setSearchQuery] = useState('');\n    const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\n    const [collapsedIds, setCollapsedIds] = useState<Set<string>>(new Set());\n\n    const toggleCollapse = (id: string) => {\n        setCollapsedIds(prev => {\n            const next = new Set(prev);\n            if (next.has(id)) next.delete(id);\n            else next.add(id);\n            return next;\n        });\n    };\n\n    // Load Data & Migrate to V2\n    useEffect(() => {\n        // Load Orders\n        // Load Orders from API\n        const fetchOrders = async () => {\n            try {\n                const res = await fetch('/api/orders');\n                if (res.ok) {\n                    const data = await res.json();\n                    setOrders(data);\n                }\n            } catch (e) { console.error(\"Failed to fetch orders\", e); }\n        };\n        fetchOrders();\n\n        // Load Workflow (Force V2 by using new key, fall back to DEFAULT V2)\n        const savedWorkflow = localStorage.getItem(\"web2print_workflow_v2\");\n        if (savedWorkflow) {\n            try { setColumns(JSON.parse(savedWorkflow)); } catch (e) { console.error(e); }\n        } else {\n            // If no V2 workflow, use the new defaults implicitly (state initial value)\n            localStorage.setItem(\"web2print_workflow_v2\", JSON.stringify(DEFAULT_COLUMNS));\n        }\n\n        const savedCollapsed = localStorage.getItem(\"web2print_collapsed_cards\");\n        if (savedCollapsed) try { setCollapsedIds(new Set(JSON.parse(savedCollapsed))); } catch (e) { console.error(e); }\n\n        setIsLoaded(true);\n    }, []);\n\n    // Persist Data (V2)\n    useEffect(() => {\n        if (isLoaded) {\n            // localStorage.setItem(\"web2print_orders\", JSON.stringify(orders)); // Disabled for API\n            localStorage.setItem(\"web2print_workflow_v2\", JSON.stringify(columns)); // Use V2 Key\n            localStorage.setItem(\"web2print_collapsed_cards\", JSON.stringify(Array.from(collapsedIds)));\n        }\n    }, [columns, collapsedIds, isLoaded]);\n\n    const updateStatus = (id: string, newStatus: string) => {\n        // Optimistic Update\n        setOrders(prev => prev.map(o => {\n            if (o.id === id) return { ...o, status: newStatus };\n            return o;\n        }));\n\n        // API Update\n        fetch('/api/orders', {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ id, status: newStatus })\n        }).catch(err => console.error(\"Failed to update status\", err));\n    };\n\n    const addColumn = () => {\n        const name = prompt(\"Enter new stage name:\");\n        if (name) setColumns([...columns, { id: `col-${Date.now()}`, title: name, color: \"bg-gray-400\", subtitle: \"Custom Stage\" }]);\n    };\n\n    // --- Drag and Drop ---\n    const onDragStart = (e: DragEvent, id: string) => e.dataTransfer.setData(\"orderId\", id);\n    const onDragOver = (e: DragEvent) => e.preventDefault();\n    const onDrop = (e: DragEvent, newStatus: string) => {\n        const id = e.dataTransfer.getData(\"orderId\");\n        if (id) {\n            // Bulk Move Logic\n            if (selectedIds.has(id)) {\n                selectedIds.forEach(selectedId => updateStatus(selectedId, newStatus));\n                setSelectedIds(new Set()); // Clear selection after move\n            } else {\n                // Single Item Move\n                updateStatus(id, newStatus);\n            }\n        }\n    };\n\n    const handleHighlight = (id: string) => {\n        setHighlightedId(id);\n        // Only scroll in board view, or implement table scrolling later\n        if (viewMode === 'board') {\n            document.getElementById(`card-${id}`)?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n        }\n        setTimeout(() => setHighlightedId(null), 3000);\n    };\n\n    if (!isLoaded) return <div className=\"p-8\">Loading...</div>;\n\n    // Filter Orders by Date Range & Search\n    const filteredOrders = orders.filter(o => {\n        // Date Filter\n        if (dateRange.from && new Date(o.deadline) < new Date(dateRange.from)) return false;\n        if (dateRange.to && new Date(o.deadline) > new Date(dateRange.to)) return false;\n\n        // Search Query\n        if (searchQuery) {\n            const q = searchQuery.toLowerCase();\n            const searchString = `\n                ${o.id} \n                ${o.customer} \n                ${o.phone} \n                ${o.specs?.productName || ''} \n                ${o.invoiceNo || ''}\n            `.toLowerCase();\n            if (!searchString.includes(q)) return false;\n        }\n\n        return true;\n    });\n\n    const overdueOrders = filteredOrders.filter(o => new Date(o.deadline) < new Date() && o.status !== 'Completed');\n    const issueOrders = filteredOrders.filter(o => o.fileStatus === 'issue');\n    const urgentOrders = filteredOrders.filter(o => o.priority === 'Urgent' && o.status !== 'Completed');\n\n    // Bulk Actions\n    const handleSelectAll = (checked: boolean) => {\n        if (checked) setSelectedIds(new Set(filteredOrders.map(o => o.id)));\n        else setSelectedIds(new Set());\n    };\n\n    const handleSelect = (id: string, e?: React.MouseEvent) => {\n        setSelectedIds(prev => {\n            const next = new Set(e?.ctrlKey || e?.metaKey ? prev : []); // If no modifier, clear previous\n\n            // Toggle Logic\n            if (e?.ctrlKey || e?.metaKey) {\n                if (next.has(id)) next.delete(id);\n                else next.add(id);\n            } else {\n                next.add(id); // Single Select\n            }\n            return next;\n        });\n    };\n\n    const handleBulkAction = (action: string) => {\n        if (confirm(`Are you sure you want to ${action} ${selectedIds.size} orders?`)) {\n            if (action === 'delete') {\n                setOrders(prev => prev.filter(o => !selectedIds.has(o.id)));\n            } else {\n                // Update Status\n                selectedIds.forEach(id => updateStatus(id, action));\n            }\n            setSelectedIds(new Set());\n        }\n    };\n\n    return (\n        <div className=\"h-full flex flex-col bg-white\">\n            {/* Top Bar */}\n            <div className=\"flex justify-between items-center px-6 py-4 border-b\">\n                <div className=\"flex items-center gap-4\">\n                    <h2 className=\"text-xl font-bold text-gray-900\">Production Board</h2>\n                    <div className=\"h-6 w-px bg-gray-200\"></div>\n\n                    {/* Search Bar */}\n                    <div className=\"relative\">\n                        <Search className=\"absolute left-2.5 top-2 h-4 w-4 text-gray-400\" />\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search orders...\"\n                            value={searchQuery}\n                            onChange={(e) => setSearchQuery(e.target.value)}\n                            className=\"pl-8 pr-3 py-1.5 border rounded-md text-sm bg-gray-50 focus:bg-white transition-colors w-48\"\n                        />\n                    </div>\n\n                    <div className=\"h-6 w-px bg-gray-200\"></div>\n\n                    {/* Date Filters */}\n                    <div className=\"flex items-center gap-2 bg-gray-50 p-1 rounded-md border\">\n                        <span className=\"text-xs font-semibold text-gray-500 pl-2\">Due:</span>\n                        <input\n                            type=\"date\"\n                            value={dateRange.from}\n                            onChange={(e) => setDateRange(prev => ({ ...prev, from: e.target.value }))}\n                            className=\"text-xs border-none bg-transparent p-1 focus:ring-0 text-gray-700 w-24\"\n                        />\n                        <span className=\"text-gray-400\">-</span>\n                        <input\n                            type=\"date\"\n                            value={dateRange.to}\n                            onChange={(e) => setDateRange(prev => ({ ...prev, to: e.target.value }))}\n                            className=\"text-xs border-none bg-transparent p-1 focus:ring-0 text-gray-700 w-24\"\n                        />\n                        {(dateRange.from || dateRange.to) && (\n                            <button onClick={() => setDateRange({ from: '', to: '' })} className=\"hover:text-red-500 pr-2\">\n                                <X className=\"h-3 w-3\" />\n                            </button>\n                        )}\n                    </div>\n\n                    <div className=\"h-6 w-px bg-gray-200\"></div>\n                    <button\n                        onClick={() => setIsSidebarOpen(!isSidebarOpen)}\n                        className={`p-1.5 rounded-md transition-colors text-xs font-medium flex items-center gap-2 ${isSidebarOpen ? 'bg-gray-100 text-gray-900' : 'text-gray-500 hover:bg-gray-50'}`}\n                    >\n                        <AlertCircle className=\"h-4 w-4\" /> Reminders\n                    </button>\n\n                    {/* View Switcher */}\n                    <div className=\"flex items-center bg-gray-100 rounded-lg p-1 gap-1\">\n                        <button\n                            onClick={() => setViewMode('board')}\n                            className={`p-1.5 rounded-md transition-all ${viewMode === 'board' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-900'}`}\n                            title=\"Board View\"\n                        >\n                            <LayoutGrid className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                            onClick={() => setViewMode('list')}\n                            className={`p-1.5 rounded-md transition-all ${viewMode === 'list' ? 'bg-white shadow-sm text-gray-900' : 'text-gray-500 hover:text-gray-900'}`}\n                            title=\"List View\"\n                        >\n                            <ListIcon className=\"h-4 w-4\" />\n                        </button>\n                    </div>\n                </div>\n\n                <Link href=\"/orders/new\">\n                    <button className=\"flex items-center gap-2 bg-blue-600 text-white px-3 py-1.5 rounded-md hover:bg-blue-700 transition-colors font-medium text-sm shadow-sm\">\n                        <Plus className=\"h-4 w-4\" /> New Order\n                    </button>\n                </Link>\n            </div>\n\n            <div className=\"flex-1 flex overflow-hidden\">\n\n                {/* Main Content Area */}\n                <div className=\"flex-1 overflow-hidden bg-gray-50/50 flex flex-col\">\n\n                    {viewMode === 'board' ? (\n                        // --- BOARD VIEW ---\n                        <div className=\"flex-1 overflow-x-auto overflow-y-hidden\">\n                            <div className=\"flex h-full p-6 gap-6 min-w-max\">\n                                {columns.map(col => (\n                                    <div\n                                        key={col.id}\n                                        onDragOver={onDragOver}\n                                        onDrop={(e) => onDrop(e, col.title)}\n                                        className=\"flex flex-col w-[280px] min-w-[280px]\"\n                                    >\n                                        <div className=\"flex flex-col mb-3 px-1 group\">\n                                            <div className=\"flex items-center justify-between\">\n                                                <div className=\"flex items-center gap-2 bg-white border px-2 py-1 rounded-md text-xs font-semibold text-gray-700 shadow-sm\">\n                                                    <div className={`w-2 h-2 rounded-full ${col.color}`} />\n                                                    {col.title}\n                                                    <span className=\"text-gray-400 ml-1\">{filteredOrders.filter(o => o.status === col.title).length}</span>\n                                                </div>\n                                            </div>\n                                            {col.subtitle && <div className=\"text-[10px] text-gray-400 mt-1 pl-1 truncate\" title={col.subtitle}>{col.subtitle}</div>}\n                                        </div>\n\n                                        <div className=\"flex-1 overflow-y-auto pr-2 pb-10 space-y-3\">\n                                            {filteredOrders.filter(o => o.status === col.title).map(order => (\n                                                <OrderCard\n                                                    key={order.id}\n                                                    order={order}\n                                                    onDragStart={onDragStart}\n                                                    onClick={(e: React.MouseEvent) => handleSelect(order.id, e)}\n                                                    onDoubleClick={() => setSelectedOrder(order)}\n                                                    isHighlighted={highlightedId === order.id}\n                                                    isCollapsed={collapsedIds.has(order.id)}\n                                                    onToggleCollapse={() => toggleCollapse(order.id)}\n                                                    isSelected={selectedIds.has(order.id)}\n                                                    onSelect={(e: React.MouseEvent) => handleSelect(order.id, e)}\n                                                />\n                                            ))}\n                                            <Link href=\"/orders/new\" className=\"flex items-center gap-2 text-gray-400 hover:text-gray-600 px-2 py-1.5 text-sm transition-colors w-full text-left rounded hover:bg-gray-100/50\">\n                                                <Plus className=\"h-4 w-4\" /> New\n                                            </Link>\n                                        </div>\n                                    </div>\n                                ))}\n                                <div className=\"w-[50px] pt-2\">\n                                    <button onClick={addColumn} className=\"p-2 hover:bg-gray-200 rounded-lg text-gray-400 hover:text-gray-700 transition\"><Plus className=\"h-6 w-6\" /></button>\n                                </div>\n                            </div>\n                        </div>\n                    ) : (\n                        // --- LIST VIEW ---\n                        <div className=\"flex-1 overflow-auto p-6\">\n                            <div className=\"bg-white rounded-xl shadow-sm border overflow-hidden\">\n                                <table className=\"w-full text-sm text-left\">\n                                    <thead className=\"bg-gray-50 border-b text-xs uppercase text-gray-500 font-medium\">\n                                        <tr>\n                                            <th className=\"px-6 py-3 w-4\">\n                                                <input\n                                                    type=\"checkbox\"\n                                                    onChange={(e) => handleSelectAll(e.target.checked)}\n                                                    className=\"rounded border-gray-300 text-black focus:ring-black\"\n                                                />\n                                            </th>\n                                            <th className=\"px-6 py-3\">Order ID</th>\n                                            <th className=\"px-6 py-3\">Customer</th>\n                                            <th className=\"px-6 py-3\">Job Specs</th>\n                                            <th className=\"px-6 py-3\">Status</th>\n                                            <th className=\"px-6 py-3\">Deadline</th>\n                                            <th className=\"px-6 py-3\">File</th>\n                                            <th className=\"px-6 py-3 text-right\">Action</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody className=\"divide-y\">\n                                        {filteredOrders.map(order => {\n                                            const isOverdue = new Date(order.deadline) < new Date() && order.status !== 'Completed';\n                                            return (\n                                                <tr key={order.id} className={`hover:bg-gray-50 cursor-pointer ${highlightedId === order.id ? 'bg-blue-50' : ''}`} onClick={() => setSelectedOrder(order)}>\n                                                    <td className=\"px-6 py-4\" onClick={(e) => e.stopPropagation()}>\n                                                        <input\n                                                            type=\"checkbox\"\n                                                            checked={selectedIds.has(order.id)}\n                                                            onChange={() => handleSelect(order.id)}\n                                                            className=\"rounded border-gray-300 text-black focus:ring-black\"\n                                                        />\n                                                    </td>\n                                                    <td className=\"px-6 py-4 font-mono font-medium text-gray-900\">\n                                                        #{order.id}\n                                                        {order.priority === 'Urgent' && <span className=\"ml-2 bg-red-100 text-red-600 px-1.5 py-0.5 rounded text-[10px] font-bold\">URGENT</span>}\n                                                    </td>\n                                                    <td className=\"px-6 py-4\">\n                                                        <div className=\"font-medium text-gray-900\">{order.customer}</div>\n                                                        <div className=\"text-xs text-gray-500\">{order.phone}</div>\n                                                    </td>\n                                                    <td className=\"px-6 py-4\">\n                                                        <div className=\"font-medium\">{order.specs?.quantity || 1}x {order.specs?.productName || 'Custom Order'}</div>\n                                                        <div className=\"text-xs text-gray-500\">{order.specs?.size || '-'} â€¢ {order.specs?.material || '-'}</div>\n                                                    </td>\n                                                    <td className=\"px-6 py-4\">\n                                                        <select\n                                                            value={order.status}\n                                                            onClick={(e) => e.stopPropagation()} // Prevent modal open\n                                                            onChange={(e) => updateStatus(order.id, e.target.value)}\n                                                            className=\"text-xs border-gray-300 rounded-md shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50 py-1 pl-2 pr-6\"\n                                                        >\n                                                            {columns.map(col => (\n                                                                <option key={col.id} value={col.title}>{col.title}</option>\n                                                            ))}\n                                                        </select>\n                                                    </td>\n                                                    <td className=\"px-6 py-4\">\n                                                        <div className={`flex items-center gap-1.5 ${isOverdue ? 'text-red-600 font-bold' : 'text-gray-600'}`}>\n                                                            <Calendar className=\"h-3.5 w-3.5\" />\n                                                            {order.deadline}\n                                                        </div>\n                                                    </td>\n                                                    <td className=\"px-6 py-4\">\n                                                        <div className={`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium ${order.fileStatus === 'ok' ? 'bg-green-100 text-green-700' :\n                                                            order.fileStatus === 'issue' ? 'bg-red-100 text-red-700' : 'bg-gray-100 text-gray-600'\n                                                            }`}>\n                                                            {order.fileStatus === 'ok' ? <CheckCircle className=\"h-3 w-3\" /> :\n                                                                order.fileStatus === 'issue' ? <AlertTriangle className=\"h-3 w-3\" /> : <Clock className=\"h-3 w-3\" />}\n                                                            <span className=\"capitalize\">{order.fileStatus}</span>\n                                                        </div>\n                                                    </td>\n                                                    <td className=\"px-6 py-4 text-right\">\n                                                        <button className=\"text-gray-400 hover:text-gray-900\">\n                                                            <MoreHorizontal className=\"h-4 w-4\" />\n                                                        </button>\n                                                    </td>\n                                                </tr>\n                                            );\n                                        })}\n                                    </tbody>\n                                </table>\n                            </div>\n                        </div>\n                    )}\n                    {/* Bulk Action Toolbar */}\n                    {selectedIds.size > 0 && (\n                        <div className=\"absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white px-6 py-3 rounded-xl shadow-2xl flex items-center gap-6 z-40\">\n                            <span className=\"font-medium text-sm\">{selectedIds.size} Selected</span>\n                            <div className=\"h-4 w-px bg-gray-700\"></div>\n                            <select\n                                onChange={(e) => {\n                                    if (e.target.value) handleBulkAction(e.target.value);\n                                    e.target.value = \"\";\n                                }}\n                                className=\"bg-gray-800 border-none text-xs rounded text-white focus:ring-0 cursor-pointer\"\n                            >\n                                <option value=\"\">Move to...</option>\n                                {columns.map(col => <option key={col.id} value={col.title}>{col.title}</option>)}\n                            </select>\n                            <button onClick={() => handleBulkAction('delete')} className=\"text-red-400 hover:text-red-300 text-sm font-medium\">Delete</button>\n                            <button onClick={() => setSelectedIds(new Set())} className=\"text-gray-400 hover:text-white\">\n                                <X className=\"h-5 w-5\" />\n                            </button>\n                        </div>\n                    )}\n                </div>\n\n                {/* Right Sidebar - Works for both views */}\n                <div\n                    className={`\n                        bg-white border-l z-30 flex flex-col\n                        fixed inset-y-0 right-0 h-full shadow-2xl transition-all duration-300 ease-in-out\n                        md:relative md:shadow-none md:h-auto md:translate-x-0\n                        ${isSidebarOpen ? 'w-[320px] translate-x-0' : 'w-0 translate-x-full md:w-0 md:translate-x-0 overflow-hidden opacity-0 md:opacity-100'}\n                    `}\n                    style={{ visibility: isSidebarOpen ? 'visible' : 'hidden' }}\n                >\n                    <div className=\"p-4 border-b flex items-center justify-between min-w-[320px]\">\n                        <h3 className=\"font-bold text-sm text-gray-900\">Action Required</h3>\n                        <button onClick={() => setIsSidebarOpen(false)} className=\"md:hidden p-1 hover:bg-gray-100 rounded\">\n                            <X className=\"h-4 w-4\" />\n                        </button>\n                    </div>\n                    <div className=\"flex-1 overflow-y-auto p-4 space-y-6 min-w-[320px]\">\n                        {issueOrders.length > 0 && (\n                            <div className=\"space-y-2\">\n                                <h4 className=\"text-[11px] font-bold text-red-500 uppercase tracking-wider\">File Issues</h4>\n                                {issueOrders.map(o => <SidebarItem key={o.id} order={o} onClick={() => handleHighlight(o.id)} type=\"issue\" />)}\n                            </div>\n                        )}\n                        {/* ... overdue/urgent ... */}\n                        {overdueOrders.length > 0 && (\n                            <div className=\"space-y-2\">\n                                <h4 className=\"text-[11px] font-bold text-orange-500 uppercase tracking-wider\">Overdue</h4>\n                                {overdueOrders.map(o => <SidebarItem key={o.id} order={o} onClick={() => handleHighlight(o.id)} type=\"overdue\" />)}\n                            </div>\n                        )}\n                        {urgentOrders.length > 0 && (\n                            <div className=\"space-y-2\">\n                                <h4 className=\"text-[11px] font-bold text-purple-500 uppercase tracking-wider\">Urgent</h4>\n                                {urgentOrders.map(o => <SidebarItem key={o.id} order={o} onClick={() => handleHighlight(o.id)} type=\"urgent\" />)}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            </div>\n\n            {/* Modal - Works for both views */}\n            {selectedOrder && (\n                <OrderModal\n                    order={selectedOrder}\n                    onClose={() => setSelectedOrder(null)}\n                    onDelete={() => {\n                        setOrders(prev => prev.filter(o => o.id !== selectedOrder.id));\n                        setSelectedOrder(null);\n                    }}\n                    onUpdate={(updated) => {\n                        setOrders(prev => prev.map(o => o.id === updated.id ? updated : o));\n                        setSelectedOrder(null);\n                    }}\n                    columns={columns}\n                />\n            )}\n        </div>\n    );\n}\n\n// --- Components ---\n// Reuse previous components (OrderModal, OrderCard, SidebarItem) as they are correct.\n// Including full declarations for completeness if rewriting file.\n\nfunction SidebarItem({ order, onClick, type }: { order: Order, onClick: () => void, type: 'issue' | 'overdue' | 'urgent' }) {\n    const borderClass = type === 'issue' ? 'border-red-200 bg-red-50' : type === 'overdue' ? 'border-orange-200 bg-orange-50' : 'border-purple-200 bg-purple-50';\n    return (\n        <div onClick={onClick} className={`p-3 border rounded-lg cursor-pointer hover:shadow-sm transition-all text-sm ${borderClass}`}>\n            <div className=\"flex justify-between items-start mb-1\">\n                <span className=\"font-mono font-bold text-gray-600 text-xs\">#{order.id}</span>\n            </div>\n            <p className=\"font-medium text-gray-900 truncate\">{order.customer}</p>\n        </div>\n    )\n}\n\nfunction OrderCard({ order, onDragStart, isHighlighted, onClick, onDoubleClick, isCollapsed, onToggleCollapse, isSelected, onSelect }: any) {\n    const isOverdue = new Date(order.deadline) < new Date();\n\n    return (\n        <div\n            id={`card-${order.id}`}\n            draggable\n            onDragStart={(e) => onDragStart(e, order.id)}\n            onClick={(e) => {\n                // If standard click, just select (or toggle if modifier)\n                // We'll let the parent handle the logic, but for now we need to split single vs double\n                onSelect(e);\n            }}\n            onDoubleClick={onDoubleClick}\n            className={`\n                bg-white p-3 rounded-lg border shadow-sm cursor-grab active:cursor-grabbing hover:shadow-md transition-all group relative select-none\n                ${isHighlighted ? 'ring-2 ring-blue-500 shadow-lg scale-[1.02] z-10' : 'border-gray-200'}\n                ${isSelected ? 'ring-2 ring-blue-600 bg-blue-50' : ''}\n            `}\n        >\n            {/* Header: Toggle + ID + Priority */}\n            <div className=\"flex justify-between items-center\">\n                <div className=\"flex items-center gap-2\">\n                    <button\n                        onClick={(e) => { e.stopPropagation(); onToggleCollapse(); }}\n                        className=\"text-gray-400 hover:text-gray-700 p-0.5 rounded hover:bg-gray-100 transition-colors pointer-events-auto\"\n                        title={isCollapsed ? \"Expand\" : \"Collapse\"}\n                    >\n                        {isCollapsed ? <ChevronDown className=\"h-3 w-3\" /> : <ChevronUp className=\"h-3 w-3\" />}\n                    </button>\n                    <span className=\"font-mono font-bold text-xs text-gray-500\">#{order.id}</span>\n                </div>\n\n                <div className=\"flex gap-1\">\n                    {order.priority === 'Urgent' && (\n                        <span className={`text-[10px] font-medium rounded-full bg-red-100 text-red-700 flex items-center gap-1 ${isCollapsed ? 'px-1 py-1' : 'px-2 py-0.5'}`}>\n                            <AlertCircle className=\"h-3 w-3\" />\n                            {!isCollapsed && \"Urgent\"}\n                        </span>\n                    )}\n                </div>\n            </div>\n\n            {/* Expanded Content */}\n            {!isCollapsed && (\n                <div className=\"space-y-3 pointer-events-none mt-2\">\n                    {/* Tags */}\n                    <div className=\"flex flex-wrap gap-1.5\">\n                        {order.specs?.department && (\n                            <span className=\"text-[10px] font-medium px-2 py-0.5 rounded-full bg-gray-100 text-gray-600\">\n                                {order.specs.department}\n                            </span>\n                        )}\n                    </div>\n\n                    {/* Content */}\n                    <div>\n                        <h4 className=\"font-medium text-sm text-gray-900 leading-snug\">\n                            {order.specs?.quantity || 1}x {order.specs?.productName || 'Custom'}\n                        </h4>\n                        <p className=\"text-xs text-gray-500 mt-1 line-clamp-2\">\n                            {order.specs?.size || '-'}, {order.specs?.material || '-'}\n                        </p>\n                    </div>\n\n                    {/* Footer Info */}\n                    <div className=\"flex items-center justify-between pt-2 border-t border-gray-50\">\n                        <div className=\"flex items-center gap-2\">\n                            {/* File Status (Mini) */}\n                            {order.fileStatus === 'issue' && <AlertTriangle className=\"h-3.5 w-3.5 text-red-500\" />}\n                            {order.fileStatus === 'ok' && <CheckCircle className=\"h-3.5 w-3.5 text-green-500\" />}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                            {isOverdue && <Clock className=\"h-3.5 w-3.5 text-red-500\" />}\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n\nfunction OrderModal({ order, onClose, onDelete, onUpdate, columns }: { order: Order, onClose: () => void, onDelete: () => void, onUpdate: (o: Order) => void, columns: WorkflowColumn[] }) {\n    const [status, setStatus] = useState(order.status);\n\n    const handleSave = () => {\n        onUpdate({ ...order, status });\n        onClose();\n    };\n\n    return (\n        <div className=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm print-modal\">\n            <div className=\"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto flex flex-col\">\n                {/* Header */}\n                <div className=\"px-6 py-4 border-b flex items-center justify-between sticky top-0 bg-white z-10\">\n                    <div>\n                        <h2 className=\"text-xl font-bold text-gray-900 flex items-center gap-2\">\n                            Order #{order.id}\n                            {order.priority === 'Urgent' && <span className=\"bg-red-100 text-red-600 text-xs px-2 py-0.5 rounded-full\">Urgent</span>}\n                        </h2>\n                        <p className=\"text-sm text-gray-500\">{new Date(order.date || Date.now()).toLocaleDateString()}</p>\n                    </div>\n                    <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-full\">\n                        <X className=\"h-5 w-5 text-gray-500\" />\n                    </button>\n                </div>\n\n                {/* Body */}\n                <div className=\"p-6 space-y-8 flex-1\">\n\n                    {/* Status Changer */}\n                    <div className=\"bg-gray-50 p-4 rounded-lg border\">\n                        <label className=\"block text-xs font-bold text-gray-500 uppercase mb-2\">Current Status</label>\n                        <div className=\"flex gap-2\">\n                            <select\n                                value={status}\n                                onChange={(e) => setStatus(e.target.value)}\n                                className=\"flex-1 border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                            >\n                                {columns.map(col => (\n                                    <option key={col.id} value={col.title}>{col.title}</option>\n                                ))}\n                            </select>\n                            <button onClick={handleSave} className=\"bg-black text-white px-4 py-2 rounded-lg text-sm font-medium\">Update</button>\n                        </div>\n                    </div>\n\n                    {/* Customer Info */}\n                    <div>\n                        <h3 className=\"text-sm font-bold text-gray-900 border-b pb-2 mb-4\">Customer Information</h3>\n                        <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                            <div>\n                                <span className=\"block text-gray-500 text-xs\">Name</span>\n                                <span className=\"font-medium\">{order.customer}</span>\n                            </div>\n                            <div>\n                                <span className=\"block text-gray-500 text-xs\">Phone</span>\n                                <div className=\"flex items-center gap-2\">\n                                    <span className=\"font-medium\">{order.phone}</span>\n                                    {order.phone && (\n                                        <a href={`https://wa.me/${order.phone.replace(/[^0-9]/g, '')}`} target=\"_blank\" className=\"text-green-600 hover:underline text-xs flex items-center gap-1\">\n                                            <Smartphone className=\"h-3 w-3\" /> Chat\n                                        </a>\n                                    )}\n                                </div>\n                            </div>\n                            <div className=\"col-span-2\">\n                                <span className=\"block text-gray-500 text-xs\">Email</span>\n                                <span className=\"font-medium\">{order.email || \"-\"}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    {/* Order Specs */}\n                    <div>\n                        <h3 className=\"text-sm font-bold text-gray-900 border-b pb-2 mb-4\">Job Specifications</h3>\n                        <div className=\"bg-white border rounded-lg overflow-hidden\">\n                            <table className=\"w-full text-sm text-left\">\n                                <tbody className=\"divide-y\">\n                                    <tr className=\"bg-gray-50\">\n                                        <td className=\"px-4 py-2 text-gray-500 font-medium w-1/3\">Product</td>\n                                        <td className=\"px-4 py-2 font-bold\">{order.specs?.productName || 'N/A'}</td>\n                                    </tr>\n                                    <tr>\n                                        <td className=\"px-4 py-2 text-gray-500\">Department</td>\n                                        <td className=\"px-4 py-2\"><span className=\"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-bold\">{order.specs?.department || 'General'}</span></td>\n                                    </tr>\n                                    <tr>\n                                        <td className=\"px-4 py-2 text-gray-500\">Size</td>\n                                        <td className=\"px-4 py-2\">{order.specs?.size || '-'}</td>\n                                    </tr>\n                                    <tr>\n                                        <td className=\"px-4 py-2 text-gray-500\">Material</td>\n                                        <td className=\"px-4 py-2\">{order.specs?.material || '-'}</td>\n                                    </tr>\n                                    <tr>\n                                        <td className=\"px-4 py-2 text-gray-500\">Print Side</td>\n                                        <td className=\"px-4 py-2\">{order.specs?.printSide || \"-\"}</td>\n                                    </tr>\n                                    <tr>\n                                        <td className=\"px-4 py-2 text-gray-500\">Finishing</td>\n                                        <td className=\"px-4 py-2\">{order.specs?.finishing || \"-\"}</td>\n                                    </tr>\n                                    <tr className=\"bg-gray-50\">\n                                        <td className=\"px-4 py-2 text-gray-500 font-medium\">Quantity</td>\n                                        <td className=\"px-4 py-2 font-bold\">{order.specs?.quantity || 1}</td>\n                                    </tr>\n                                    <tr>\n                                        <td className=\"px-4 py-2 text-gray-500\">Total</td>\n                                        <td className=\"px-4 py-2 font-mono\">RM {order.total?.toFixed(2)}</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n\n                    {/* Logistics */}\n                    <div>\n                        <h3 className=\"text-sm font-bold text-gray-900 border-b pb-2 mb-4\">Logistics</h3>\n                        <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-4\">\n                            <div className={`p-3 rounded-lg border ${new Date(order.deadline) < new Date() ? 'bg-red-50 border-red-200' : 'bg-gray-50 border-gray-200'}`}>\n                                <span className=\"block text-xs text-gray-500 mb-1\">Deadline</span>\n                                <div className=\"flex items-center gap-2 font-bold\">\n                                    <Calendar className=\"h-4 w-4\" />\n                                    {order.deadline}\n                                    {new Date(order.deadline) < new Date() && <span className=\"text-red-600 text-xs\">(Overdue)</span>}\n                                </div>\n                            </div>\n                            <div className=\"p-3 rounded-lg border bg-gray-50 border-gray-200\">\n                                <span className=\"block text-xs text-gray-500 mb-1\">Invoice / Source</span>\n                                <div className=\"font-bold font-mono text-sm\">{order.invoiceNo || 'N/A'}</div>\n                                <div className=\"text-xs text-gray-500\">{order.source}</div>\n                            </div>\n                            <div className={`p-3 rounded-lg border ${order.fileStatus === 'issue' ? 'bg-red-50 border-red-200' : 'bg-green-50 border-green-200'}`}>\n                                <span className=\"block text-xs text-gray-500 mb-1\">File Status</span>\n                                <div className=\"flex items-center gap-2 font-bold\">\n                                    {order.fileStatus === 'issue' ? <AlertTriangle className=\"h-4 w-4 text-red-600\" /> : <CheckCircle className=\"h-4 w-4 text-green-600\" />}\n                                    <span className=\"capitalize\">{order.fileStatus}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    {/* Print File Preview (Mock) */}\n                    <div>\n                        <h3 className=\"text-sm font-bold text-gray-900 border-b pb-2 mb-4\">Print Files</h3>\n                        <div className=\"bg-gray-100 rounded-lg p-4 flex items-center justify-center border-2 border-dashed border-gray-300\">\n                            {/* In a real app, this would be the actual uploaded file preview */}\n                            <div className=\"text-center\">\n                                <div className=\"mx-auto h-24 w-32 bg-gray-200 rounded flex items-center justify-center mb-2\">\n                                    <FileText className=\"h-8 w-8 text-gray-400\" />\n                                </div>\n                                <p className=\"text-xs text-gray-500\">Preview not available for this legacy order</p>\n                                <button className=\"mt-2 text-blue-600 text-xs font-medium hover:underline\">Download Original (PDF)</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* History Log */}\n                {order.history && order.history.length > 0 && (\n                    <div className=\"mt-8 px-6 pb-6\">\n                        <h3 className=\"text-sm font-bold text-gray-900 border-b pb-2 mb-4\">Activity Log</h3>\n                        <div className=\"bg-gray-50 rounded-lg p-4 space-y-4 max-h-48 overflow-y-auto\">\n                            {order.history.slice().reverse().map((log, i) => (\n                                <div key={i} className=\"flex gap-3 text-sm\">\n                                    <div className=\"min-w-[4rem] text-xs text-gray-400 pt-0.5\">\n                                        {new Date(log.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                    </div>\n                                    <div>\n                                        <p className=\"font-medium text-gray-900\">{log.action} <span className=\"text-gray-500 font-normal\">by {log.user || 'System'}</span></p>\n                                        <p className=\"text-gray-600 text-xs\">{log.details}</p>\n                                        <p className=\"text-gray-400 text-[10px]\">{new Date(log.date).toLocaleDateString()}</p>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {/* Footer */}\n                <div className=\"bg-gray-50 px-6 py-4 border-t flex justify-between items-center sticky bottom-0 z-10 no-print\">\n                    <button onClick={onDelete} className=\"text-red-600 hover:bg-red-50 px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors\">\n                        <Trash2 className=\"h-4 w-4\" /> Delete Order\n                    </button>\n                    <div className=\"flex gap-2\">\n                        <button onClick={() => window.print()} className=\"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-gray-700\">\n                            <Printer className=\"h-4 w-4\" /> Print Job Sheet\n                        </button>\n                        <button onClick={onClose} className=\"px-4 py-2 text-gray-600 hover:bg-gray-200 rounded-lg text-sm font-medium\">Close</button>\n                        <button onClick={handleSave} className=\"bg-black text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg hover:bg-gray-800 transform hover:-translate-y-0.5 transition-all\">\n                            Save Changes\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;AALA;;;;;AA6CA,MAAM,kBAAoC;IACtC;QAAE,IAAI;QAAS,OAAO;QAAa,OAAO;QAAe,UAAU;IAAsB;IACzF;QAAE,IAAI;QAAS,OAAO;QAAoB,OAAO;QAAc,UAAU;IAAoB;IAC7F;QAAE,IAAI;QAAS,OAAO;QAAa,OAAO;QAAe,UAAU;IAAkB;IACrF;QAAE,IAAI;QAAS,OAAO;QAAkB,OAAO;QAAe,UAAU;IAAgB;IACxF;QAAE,IAAI;QAAS,OAAO;QAAc,OAAO;QAAiB,UAAU;IAAiB;IACvF;QAAE,IAAI;QAAS,OAAO;QAAa,OAAO;QAAiB,UAAU;IAAsB;IAC3F;QAAE,IAAI;QAAS,OAAO;QAAqB,OAAO;QAAgB,UAAU;IAAqB;CACpG;AAEc,SAAS;;IACpB,MAAM,SAAS,IAAA,2JAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kLAAQ,EAAU,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kLAAQ,EAAmB;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kLAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,kLAAQ,EAAgB;IAClE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,kLAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,kLAAQ,EAAe,OAAO,YAAY;IACpF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kLAAQ,EAAmB;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,kLAAQ,EAAC;QAAE,MAAM;QAAI,IAAI;IAAG;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kLAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kLAAQ,EAAc,IAAI;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,kLAAQ,EAAc,IAAI;IAElE,MAAM,iBAAiB,CAAC;QACpB,gBAAgB,CAAA;YACZ,MAAM,OAAO,IAAI,IAAI;YACrB,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,MAAM,CAAC;iBACzB,KAAK,GAAG,CAAC;YACd,OAAO;QACX;IACJ;IAEA,4BAA4B;IAC5B,IAAA,mLAAS;qCAAC;YACN,cAAc;YACd,uBAAuB;YACvB,MAAM;yDAAc;oBAChB,IAAI;wBACA,MAAM,MAAM,MAAM,MAAM;wBACxB,IAAI,IAAI,EAAE,EAAE;4BACR,MAAM,OAAO,MAAM,IAAI,IAAI;4BAC3B,UAAU;wBACd;oBACJ,EAAE,OAAO,GAAG;wBAAE,QAAQ,KAAK,CAAC,0BAA0B;oBAAI;gBAC9D;;YACA;YAEA,qEAAqE;YACrE,MAAM,gBAAgB,aAAa,OAAO,CAAC;YAC3C,IAAI,eAAe;gBACf,IAAI;oBAAE,WAAW,KAAK,KAAK,CAAC;gBAAiB,EAAE,OAAO,GAAG;oBAAE,QAAQ,KAAK,CAAC;gBAAI;YACjF,OAAO;gBACH,2EAA2E;gBAC3E,aAAa,OAAO,CAAC,yBAAyB,KAAK,SAAS,CAAC;YACjE;YAEA,MAAM,iBAAiB,aAAa,OAAO,CAAC;YAC5C,IAAI,gBAAgB,IAAI;gBAAE,gBAAgB,IAAI,IAAI,KAAK,KAAK,CAAC;YAAmB,EAAE,OAAO,GAAG;gBAAE,QAAQ,KAAK,CAAC;YAAI;YAEhH,YAAY;QAChB;oCAAG,EAAE;IAEL,oBAAoB;IACpB,IAAA,mLAAS;qCAAC;YACN,IAAI,UAAU;gBACV,wFAAwF;gBACxF,aAAa,OAAO,CAAC,yBAAyB,KAAK,SAAS,CAAC,WAAW,aAAa;gBACrF,aAAa,OAAO,CAAC,6BAA6B,KAAK,SAAS,CAAC,MAAM,IAAI,CAAC;YAChF;QACJ;oCAAG;QAAC;QAAS;QAAc;KAAS;IAEpC,MAAM,eAAe,CAAC,IAAY;QAC9B,oBAAoB;QACpB,UAAU,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA;gBACvB,IAAI,EAAE,EAAE,KAAK,IAAI,OAAO;oBAAE,GAAG,CAAC;oBAAE,QAAQ;gBAAU;gBAClD,OAAO;YACX;QAEA,aAAa;QACb,MAAM,eAAe;YACjB,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAI,QAAQ;YAAU;QACjD,GAAG,KAAK,CAAC,CAAA,MAAO,QAAQ,KAAK,CAAC,2BAA2B;IAC7D;IAEA,MAAM,YAAY;QACd,MAAM,OAAO,OAAO;QACpB,IAAI,MAAM,WAAW;eAAI;YAAS;gBAAE,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;gBAAE,OAAO;gBAAM,OAAO;gBAAe,UAAU;YAAe;SAAE;IAC/H;IAEA,wBAAwB;IACxB,MAAM,cAAc,CAAC,GAAc,KAAe,EAAE,YAAY,CAAC,OAAO,CAAC,WAAW;IACpF,MAAM,aAAa,CAAC,IAAiB,EAAE,cAAc;IACrD,MAAM,SAAS,CAAC,GAAc;QAC1B,MAAM,KAAK,EAAE,YAAY,CAAC,OAAO,CAAC;QAClC,IAAI,IAAI;YACJ,kBAAkB;YAClB,IAAI,YAAY,GAAG,CAAC,KAAK;gBACrB,YAAY,OAAO,CAAC,CAAA,aAAc,aAAa,YAAY;gBAC3D,eAAe,IAAI,QAAQ,6BAA6B;YAC5D,OAAO;gBACH,mBAAmB;gBACnB,aAAa,IAAI;YACrB;QACJ;IACJ;IAEA,MAAM,kBAAkB,CAAC;QACrB,iBAAiB;QACjB,gEAAgE;QAChE,IAAI,aAAa,SAAS;YACtB,SAAS,cAAc,CAAC,CAAC,KAAK,EAAE,IAAI,GAAG,eAAe;gBAAE,UAAU;gBAAU,OAAO;YAAS;QAChG;QACA,WAAW,IAAM,iBAAiB,OAAO;IAC7C;IAEA,IAAI,CAAC,UAAU,qBAAO,sMAAC;QAAI,WAAU;kBAAM;;;;;;IAE3C,uCAAuC;IACvC,MAAM,iBAAiB,OAAO,MAAM,CAAC,CAAA;QACjC,cAAc;QACd,IAAI,UAAU,IAAI,IAAI,IAAI,KAAK,EAAE,QAAQ,IAAI,IAAI,KAAK,UAAU,IAAI,GAAG,OAAO;QAC9E,IAAI,UAAU,EAAE,IAAI,IAAI,KAAK,EAAE,QAAQ,IAAI,IAAI,KAAK,UAAU,EAAE,GAAG,OAAO;QAE1E,eAAe;QACf,IAAI,aAAa;YACb,MAAM,IAAI,YAAY,WAAW;YACjC,MAAM,eAAe,CAAC;gBAClB,EAAE,EAAE,EAAE,CAAC;gBACP,EAAE,EAAE,QAAQ,CAAC;gBACb,EAAE,EAAE,KAAK,CAAC;gBACV,EAAE,EAAE,KAAK,EAAE,eAAe,GAAG;gBAC7B,EAAE,EAAE,SAAS,IAAI,GAAG;YACxB,CAAC,CAAC,WAAW;YACb,IAAI,CAAC,aAAa,QAAQ,CAAC,IAAI,OAAO;QAC1C;QAEA,OAAO;IACX;IAEA,MAAM,gBAAgB,eAAe,MAAM,CAAC,CAAA,IAAK,IAAI,KAAK,EAAE,QAAQ,IAAI,IAAI,UAAU,EAAE,MAAM,KAAK;IACnG,MAAM,cAAc,eAAe,MAAM,CAAC,CAAA,IAAK,EAAE,UAAU,KAAK;IAChE,MAAM,eAAe,eAAe,MAAM,CAAC,CAAA,IAAK,EAAE,QAAQ,KAAK,YAAY,EAAE,MAAM,KAAK;IAExF,eAAe;IACf,MAAM,kBAAkB,CAAC;QACrB,IAAI,SAAS,eAAe,IAAI,IAAI,eAAe,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE;aAC3D,eAAe,IAAI;IAC5B;IAEA,MAAM,eAAe,CAAC,IAAY;QAC9B,eAAe,CAAA;YACX,MAAM,OAAO,IAAI,IAAI,GAAG,WAAW,GAAG,UAAU,OAAO,EAAE,GAAG,iCAAiC;YAE7F,eAAe;YACf,IAAI,GAAG,WAAW,GAAG,SAAS;gBAC1B,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,MAAM,CAAC;qBACzB,KAAK,GAAG,CAAC;YAClB,OAAO;gBACH,KAAK,GAAG,CAAC,KAAK,gBAAgB;YAClC;YACA,OAAO;QACX;IACJ;IAEA,MAAM,mBAAmB,CAAC;QACtB,IAAI,QAAQ,CAAC,yBAAyB,EAAE,OAAO,CAAC,EAAE,YAAY,IAAI,CAAC,QAAQ,CAAC,GAAG;YAC3E,IAAI,WAAW,UAAU;gBACrB,UAAU,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,CAAC,YAAY,GAAG,CAAC,EAAE,EAAE;YAC5D,OAAO;gBACH,gBAAgB;gBAChB,YAAY,OAAO,CAAC,CAAA,KAAM,aAAa,IAAI;YAC/C;YACA,eAAe,IAAI;QACvB;IACJ;IAEA,qBACI,sMAAC;QAAI,WAAU;;0BAEX,sMAAC;gBAAI,WAAU;;kCACX,sMAAC;wBAAI,WAAU;;0CACX,sMAAC;gCAAG,WAAU;0CAAkC;;;;;;0CAChD,sMAAC;gCAAI,WAAU;;;;;;0CAGf,sMAAC;gCAAI,WAAU;;kDACX,sMAAC,4NAAM;wCAAC,WAAU;;;;;;kDAClB,sMAAC;wCACG,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wCAC9C,WAAU;;;;;;;;;;;;0CAIlB,sMAAC;gCAAI,WAAU;;;;;;0CAGf,sMAAC;gCAAI,WAAU;;kDACX,sMAAC;wCAAK,WAAU;kDAA2C;;;;;;kDAC3D,sMAAC;wCACG,MAAK;wCACL,OAAO,UAAU,IAAI;wCACrB,UAAU,CAAC,IAAM,aAAa,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;gDAAC,CAAC;wCACxE,WAAU;;;;;;kDAEd,sMAAC;wCAAK,WAAU;kDAAgB;;;;;;kDAChC,sMAAC;wCACG,MAAK;wCACL,OAAO,UAAU,EAAE;wCACnB,UAAU,CAAC,IAAM,aAAa,CAAA,OAAQ,CAAC;oDAAE,GAAG,IAAI;oDAAE,IAAI,EAAE,MAAM,CAAC,KAAK;gDAAC,CAAC;wCACtE,WAAU;;;;;;oCAEb,CAAC,UAAU,IAAI,IAAI,UAAU,EAAE,mBAC5B,sMAAC;wCAAO,SAAS,IAAM,aAAa;gDAAE,MAAM;gDAAI,IAAI;4CAAG;wCAAI,WAAU;kDACjE,cAAA,sMAAC,6MAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAKzB,sMAAC;gCAAI,WAAU;;;;;;0CACf,sMAAC;gCACG,SAAS,IAAM,iBAAiB,CAAC;gCACjC,WAAW,CAAC,+EAA+E,EAAE,gBAAgB,8BAA8B,kCAAkC;;kDAE7K,sMAAC,+OAAW;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAIvC,sMAAC;gCAAI,WAAU;;kDACX,sMAAC;wCACG,SAAS,IAAM,YAAY;wCAC3B,WAAW,CAAC,gCAAgC,EAAE,aAAa,UAAU,qCAAqC,qCAAqC;wCAC/I,OAAM;kDAEN,cAAA,sMAAC,4OAAU;4CAAC,WAAU;;;;;;;;;;;kDAE1B,sMAAC;wCACG,SAAS,IAAM,YAAY;wCAC3B,WAAW,CAAC,gCAAgC,EAAE,aAAa,SAAS,qCAAqC,qCAAqC;wCAC9I,OAAM;kDAEN,cAAA,sMAAC,sNAAQ;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAKhC,sMAAC,mLAAI;wBAAC,MAAK;kCACP,cAAA,sMAAC;4BAAO,WAAU;;8CACd,sMAAC,sNAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;;;;;0BAKxC,sMAAC;gBAAI,WAAU;;kCAGX,sMAAC;wBAAI,WAAU;;4BAEV,aAAa,UACV,qBAAqB;0CACrB,sMAAC;gCAAI,WAAU;0CACX,cAAA,sMAAC;oCAAI,WAAU;;wCACV,QAAQ,GAAG,CAAC,CAAA,oBACT,sMAAC;gDAEG,YAAY;gDACZ,QAAQ,CAAC,IAAM,OAAO,GAAG,IAAI,KAAK;gDAClC,WAAU;;kEAEV,sMAAC;wDAAI,WAAU;;0EACX,sMAAC;gEAAI,WAAU;0EACX,cAAA,sMAAC;oEAAI,WAAU;;sFACX,sMAAC;4EAAI,WAAW,CAAC,qBAAqB,EAAE,IAAI,KAAK,EAAE;;;;;;wEAClD,IAAI,KAAK;sFACV,sMAAC;4EAAK,WAAU;sFAAsB,eAAe,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,IAAI,KAAK,EAAE,MAAM;;;;;;;;;;;;;;;;;4DAGtG,IAAI,QAAQ,kBAAI,sMAAC;gEAAI,WAAU;gEAA+C,OAAO,IAAI,QAAQ;0EAAG,IAAI,QAAQ;;;;;;;;;;;;kEAGrH,sMAAC;wDAAI,WAAU;;4DACV,eAAe,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,IAAI,KAAK,EAAE,GAAG,CAAC,CAAA,sBACpD,sMAAC;oEAEG,OAAO;oEACP,aAAa;oEACb,SAAS,CAAC,IAAwB,aAAa,MAAM,EAAE,EAAE;oEACzD,eAAe,IAAM,iBAAiB;oEACtC,eAAe,kBAAkB,MAAM,EAAE;oEACzC,aAAa,aAAa,GAAG,CAAC,MAAM,EAAE;oEACtC,kBAAkB,IAAM,eAAe,MAAM,EAAE;oEAC/C,YAAY,YAAY,GAAG,CAAC,MAAM,EAAE;oEACpC,UAAU,CAAC,IAAwB,aAAa,MAAM,EAAE,EAAE;mEATrD,MAAM,EAAE;;;;;0EAYrB,sMAAC,mLAAI;gEAAC,MAAK;gEAAc,WAAU;;kFAC/B,sMAAC,sNAAI;wEAAC,WAAU;;;;;;oEAAY;;;;;;;;;;;;;;+CAhC/B,IAAI,EAAE;;;;;sDAqCnB,sMAAC;4CAAI,WAAU;sDACX,cAAA,sMAAC;gDAAO,SAAS;gDAAW,WAAU;0DAAgF,cAAA,sMAAC,sNAAI;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;uCAKlJ,oBAAoB;0CACpB,sMAAC;gCAAI,WAAU;0CACX,cAAA,sMAAC;oCAAI,WAAU;8CACX,cAAA,sMAAC;wCAAM,WAAU;;0DACb,sMAAC;gDAAM,WAAU;0DACb,cAAA,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEACV,cAAA,sMAAC;gEACG,MAAK;gEACL,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,OAAO;gEACjD,WAAU;;;;;;;;;;;sEAGlB,sMAAC;4DAAG,WAAU;sEAAY;;;;;;sEAC1B,sMAAC;4DAAG,WAAU;sEAAY;;;;;;sEAC1B,sMAAC;4DAAG,WAAU;sEAAY;;;;;;sEAC1B,sMAAC;4DAAG,WAAU;sEAAY;;;;;;sEAC1B,sMAAC;4DAAG,WAAU;sEAAY;;;;;;sEAC1B,sMAAC;4DAAG,WAAU;sEAAY;;;;;;sEAC1B,sMAAC;4DAAG,WAAU;sEAAuB;;;;;;;;;;;;;;;;;0DAG7C,sMAAC;gDAAM,WAAU;0DACZ,eAAe,GAAG,CAAC,CAAA;oDAChB,MAAM,YAAY,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI,UAAU,MAAM,MAAM,KAAK;oDAC5E,qBACI,sMAAC;wDAAkB,WAAW,CAAC,gCAAgC,EAAE,kBAAkB,MAAM,EAAE,GAAG,eAAe,IAAI;wDAAE,SAAS,IAAM,iBAAiB;;0EAC/I,sMAAC;gEAAG,WAAU;gEAAY,SAAS,CAAC,IAAM,EAAE,eAAe;0EACvD,cAAA,sMAAC;oEACG,MAAK;oEACL,SAAS,YAAY,GAAG,CAAC,MAAM,EAAE;oEACjC,UAAU,IAAM,aAAa,MAAM,EAAE;oEACrC,WAAU;;;;;;;;;;;0EAGlB,sMAAC;gEAAG,WAAU;;oEAAgD;oEACxD,MAAM,EAAE;oEACT,MAAM,QAAQ,KAAK,0BAAY,sMAAC;wEAAK,WAAU;kFAA2E;;;;;;;;;;;;0EAE/H,sMAAC;gEAAG,WAAU;;kFACV,sMAAC;wEAAI,WAAU;kFAA6B,MAAM,QAAQ;;;;;;kFAC1D,sMAAC;wEAAI,WAAU;kFAAyB,MAAM,KAAK;;;;;;;;;;;;0EAEvD,sMAAC;gEAAG,WAAU;;kFACV,sMAAC;wEAAI,WAAU;;4EAAe,MAAM,KAAK,EAAE,YAAY;4EAAE;4EAAG,MAAM,KAAK,EAAE,eAAe;;;;;;;kFACxF,sMAAC;wEAAI,WAAU;;4EAAyB,MAAM,KAAK,EAAE,QAAQ;4EAAI;4EAAI,MAAM,KAAK,EAAE,YAAY;;;;;;;;;;;;;0EAElG,sMAAC;gEAAG,WAAU;0EACV,cAAA,sMAAC;oEACG,OAAO,MAAM,MAAM;oEACnB,SAAS,CAAC,IAAM,EAAE,eAAe;oEACjC,UAAU,CAAC,IAAM,aAAa,MAAM,EAAE,EAAE,EAAE,MAAM,CAAC,KAAK;oEACtD,WAAU;8EAET,QAAQ,GAAG,CAAC,CAAA,oBACT,sMAAC;4EAAoB,OAAO,IAAI,KAAK;sFAAG,IAAI,KAAK;2EAApC,IAAI,EAAE;;;;;;;;;;;;;;;0EAI/B,sMAAC;gEAAG,WAAU;0EACV,cAAA,sMAAC;oEAAI,WAAW,CAAC,0BAA0B,EAAE,YAAY,2BAA2B,iBAAiB;;sFACjG,sMAAC,kOAAQ;4EAAC,WAAU;;;;;;wEACnB,MAAM,QAAQ;;;;;;;;;;;;0EAGvB,sMAAC;gEAAG,WAAU;0EACV,cAAA,sMAAC;oEAAI,WAAW,CAAC,uEAAuE,EAAE,MAAM,UAAU,KAAK,OAAO,gCAClH,MAAM,UAAU,KAAK,UAAU,4BAA4B,6BACzD;;wEACD,MAAM,UAAU,KAAK,qBAAO,sMAAC,sPAAW;4EAAC,WAAU;;;;;mFAChD,MAAM,UAAU,KAAK,wBAAU,sMAAC,qPAAa;4EAAC,WAAU;;;;;iGAAe,sMAAC,yNAAK;4EAAC,WAAU;;;;;;sFAC5F,sMAAC;4EAAK,WAAU;sFAAc,MAAM,UAAU;;;;;;;;;;;;;;;;;0EAGtD,sMAAC;gEAAG,WAAU;0EACV,cAAA,sMAAC;oEAAO,WAAU;8EACd,cAAA,sMAAC,8OAAc;wEAAC,WAAU;;;;;;;;;;;;;;;;;uDAlD7B,MAAM,EAAE;;;;;gDAuDzB;;;;;;;;;;;;;;;;;;;;;;4BAOnB,YAAY,IAAI,GAAG,mBAChB,sMAAC;gCAAI,WAAU;;kDACX,sMAAC;wCAAK,WAAU;;4CAAuB,YAAY,IAAI;4CAAC;;;;;;;kDACxD,sMAAC;wCAAI,WAAU;;;;;;kDACf,sMAAC;wCACG,UAAU,CAAC;4CACP,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;4CACnD,EAAE,MAAM,CAAC,KAAK,GAAG;wCACrB;wCACA,WAAU;;0DAEV,sMAAC;gDAAO,OAAM;0DAAG;;;;;;4CAChB,QAAQ,GAAG,CAAC,CAAA,oBAAO,sMAAC;oDAAoB,OAAO,IAAI,KAAK;8DAAG,IAAI,KAAK;mDAApC,IAAI,EAAE;;;;;;;;;;;kDAE3C,sMAAC;wCAAO,SAAS,IAAM,iBAAiB;wCAAW,WAAU;kDAAsD;;;;;;kDACnH,sMAAC;wCAAO,SAAS,IAAM,eAAe,IAAI;wCAAQ,WAAU;kDACxD,cAAA,sMAAC,6MAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;kCAO7B,sMAAC;wBACG,WAAW,CAAC;;;;wBAIR,EAAE,gBAAgB,4BAA4B,wFAAwF;oBAC1I,CAAC;wBACD,OAAO;4BAAE,YAAY,gBAAgB,YAAY;wBAAS;;0CAE1D,sMAAC;gCAAI,WAAU;;kDACX,sMAAC;wCAAG,WAAU;kDAAkC;;;;;;kDAChD,sMAAC;wCAAO,SAAS,IAAM,iBAAiB;wCAAQ,WAAU;kDACtD,cAAA,sMAAC,6MAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;0CAGrB,sMAAC;gCAAI,WAAU;;oCACV,YAAY,MAAM,GAAG,mBAClB,sMAAC;wCAAI,WAAU;;0DACX,sMAAC;gDAAG,WAAU;0DAA8D;;;;;;4CAC3E,YAAY,GAAG,CAAC,CAAA,kBAAK,sMAAC;oDAAuB,OAAO;oDAAG,SAAS,IAAM,gBAAgB,EAAE,EAAE;oDAAG,MAAK;mDAA3D,EAAE,EAAE;;;;;;;;;;;oCAInD,cAAc,MAAM,GAAG,mBACpB,sMAAC;wCAAI,WAAU;;0DACX,sMAAC;gDAAG,WAAU;0DAAiE;;;;;;4CAC9E,cAAc,GAAG,CAAC,CAAA,kBAAK,sMAAC;oDAAuB,OAAO;oDAAG,SAAS,IAAM,gBAAgB,EAAE,EAAE;oDAAG,MAAK;mDAA3D,EAAE,EAAE;;;;;;;;;;;oCAGrD,aAAa,MAAM,GAAG,mBACnB,sMAAC;wCAAI,WAAU;;0DACX,sMAAC;gDAAG,WAAU;0DAAiE;;;;;;4CAC9E,aAAa,GAAG,CAAC,CAAA,kBAAK,sMAAC;oDAAuB,OAAO;oDAAG,SAAS,IAAM,gBAAgB,EAAE,EAAE;oDAAG,MAAK;mDAA3D,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;YAQhE,+BACG,sMAAC;gBACG,OAAO;gBACP,SAAS,IAAM,iBAAiB;gBAChC,UAAU;oBACN,UAAU,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,cAAc,EAAE;oBAC5D,iBAAiB;gBACrB;gBACA,UAAU,CAAC;oBACP,UAAU,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,QAAQ,EAAE,GAAG,UAAU;oBAChE,iBAAiB;gBACrB;gBACA,SAAS;;;;;;;;;;;;AAK7B;GAtdwB;;QACL,2JAAS;;;KADJ;AAwdxB,qBAAqB;AACrB,sFAAsF;AACtF,kEAAkE;AAElE,SAAS,YAAY,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAA+E;IACtH,MAAM,cAAc,SAAS,UAAU,6BAA6B,SAAS,YAAY,mCAAmC;IAC5H,qBACI,sMAAC;QAAI,SAAS;QAAS,WAAW,CAAC,4EAA4E,EAAE,aAAa;;0BAC1H,sMAAC;gBAAI,WAAU;0BACX,cAAA,sMAAC;oBAAK,WAAU;;wBAA4C;wBAAE,MAAM,EAAE;;;;;;;;;;;;0BAE1E,sMAAC;gBAAE,WAAU;0BAAsC,MAAM,QAAQ;;;;;;;;;;;;AAG7E;MAVS;AAYT,SAAS,UAAU,EAAE,KAAK,EAAE,WAAW,EAAE,aAAa,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,gBAAgB,EAAE,UAAU,EAAE,QAAQ,EAAO;IACtI,MAAM,YAAY,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI;IAEjD,qBACI,sMAAC;QACG,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE,EAAE;QACtB,SAAS;QACT,aAAa,CAAC,IAAM,YAAY,GAAG,MAAM,EAAE;QAC3C,SAAS,CAAC;YACN,yDAAyD;YACzD,uFAAuF;YACvF,SAAS;QACb;QACA,eAAe;QACf,WAAW,CAAC;;gBAER,EAAE,gBAAgB,qDAAqD,kBAAkB;gBACzF,EAAE,aAAa,oCAAoC,GAAG;YAC1D,CAAC;;0BAGD,sMAAC;gBAAI,WAAU;;kCACX,sMAAC;wBAAI,WAAU;;0CACX,sMAAC;gCACG,SAAS,CAAC;oCAAQ,EAAE,eAAe;oCAAI;gCAAoB;gCAC3D,WAAU;gCACV,OAAO,cAAc,WAAW;0CAE/B,4BAAc,sMAAC,+OAAW;oCAAC,WAAU;;;;;yDAAe,sMAAC,yOAAS;oCAAC,WAAU;;;;;;;;;;;0CAE9E,sMAAC;gCAAK,WAAU;;oCAA4C;oCAAE,MAAM,EAAE;;;;;;;;;;;;;kCAG1E,sMAAC;wBAAI,WAAU;kCACV,MAAM,QAAQ,KAAK,0BAChB,sMAAC;4BAAK,WAAW,CAAC,qFAAqF,EAAE,cAAc,cAAc,eAAe;;8CAChJ,sMAAC,+OAAW;oCAAC,WAAU;;;;;;gCACtB,CAAC,eAAe;;;;;;;;;;;;;;;;;;YAOhC,CAAC,6BACE,sMAAC;gBAAI,WAAU;;kCAEX,sMAAC;wBAAI,WAAU;kCACV,MAAM,KAAK,EAAE,4BACV,sMAAC;4BAAK,WAAU;sCACX,MAAM,KAAK,CAAC,UAAU;;;;;;;;;;;kCAMnC,sMAAC;;0CACG,sMAAC;gCAAG,WAAU;;oCACT,MAAM,KAAK,EAAE,YAAY;oCAAE;oCAAG,MAAM,KAAK,EAAE,eAAe;;;;;;;0CAE/D,sMAAC;gCAAE,WAAU;;oCACR,MAAM,KAAK,EAAE,QAAQ;oCAAI;oCAAG,MAAM,KAAK,EAAE,YAAY;;;;;;;;;;;;;kCAK9D,sMAAC;wBAAI,WAAU;;0CACX,sMAAC;gCAAI,WAAU;;oCAEV,MAAM,UAAU,KAAK,yBAAW,sMAAC,qPAAa;wCAAC,WAAU;;;;;;oCACzD,MAAM,UAAU,KAAK,sBAAQ,sMAAC,sPAAW;wCAAC,WAAU;;;;;;;;;;;;0CAEzD,sMAAC;gCAAI,WAAU;0CACV,2BAAa,sMAAC,yNAAK;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO3D;MAhFS;AAkFT,SAAS,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAwH;;IACrL,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kLAAQ,EAAC,MAAM,MAAM;IAEjD,MAAM,aAAa;QACf,SAAS;YAAE,GAAG,KAAK;YAAE;QAAO;QAC5B;IACJ;IAEA,qBACI,sMAAC;QAAI,WAAU;kBACX,cAAA,sMAAC;YAAI,WAAU;;8BAEX,sMAAC;oBAAI,WAAU;;sCACX,sMAAC;;8CACG,sMAAC;oCAAG,WAAU;;wCAA0D;wCAC5D,MAAM,EAAE;wCACf,MAAM,QAAQ,KAAK,0BAAY,sMAAC;4CAAK,WAAU;sDAA2D;;;;;;;;;;;;8CAE/G,sMAAC;oCAAE,WAAU;8CAAyB,IAAI,KAAK,MAAM,IAAI,IAAI,KAAK,GAAG,IAAI,kBAAkB;;;;;;;;;;;;sCAE/F,sMAAC;4BAAO,SAAS;4BAAS,WAAU;sCAChC,cAAA,sMAAC,6MAAC;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAKrB,sMAAC;oBAAI,WAAU;;sCAGX,sMAAC;4BAAI,WAAU;;8CACX,sMAAC;oCAAM,WAAU;8CAAuD;;;;;;8CACxE,sMAAC;oCAAI,WAAU;;sDACX,sMAAC;4CACG,OAAO;4CACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;4CACzC,WAAU;sDAET,QAAQ,GAAG,CAAC,CAAA,oBACT,sMAAC;oDAAoB,OAAO,IAAI,KAAK;8DAAG,IAAI,KAAK;mDAApC,IAAI,EAAE;;;;;;;;;;sDAG3B,sMAAC;4CAAO,SAAS;4CAAY,WAAU;sDAA+D;;;;;;;;;;;;;;;;;;sCAK9G,sMAAC;;8CACG,sMAAC;oCAAG,WAAU;8CAAqD;;;;;;8CACnE,sMAAC;oCAAI,WAAU;;sDACX,sMAAC;;8DACG,sMAAC;oDAAK,WAAU;8DAA8B;;;;;;8DAC9C,sMAAC;oDAAK,WAAU;8DAAe,MAAM,QAAQ;;;;;;;;;;;;sDAEjD,sMAAC;;8DACG,sMAAC;oDAAK,WAAU;8DAA8B;;;;;;8DAC9C,sMAAC;oDAAI,WAAU;;sEACX,sMAAC;4DAAK,WAAU;sEAAe,MAAM,KAAK;;;;;;wDACzC,MAAM,KAAK,kBACR,sMAAC;4DAAE,MAAM,CAAC,cAAc,EAAE,MAAM,KAAK,CAAC,OAAO,CAAC,WAAW,KAAK;4DAAE,QAAO;4DAAS,WAAU;;8EACtF,sMAAC,wOAAU;oEAAC,WAAU;;;;;;gEAAY;;;;;;;;;;;;;;;;;;;sDAKlD,sMAAC;4CAAI,WAAU;;8DACX,sMAAC;oDAAK,WAAU;8DAA8B;;;;;;8DAC9C,sMAAC;oDAAK,WAAU;8DAAe,MAAM,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;sCAM1D,sMAAC;;8CACG,sMAAC;oCAAG,WAAU;8CAAqD;;;;;;8CACnE,sMAAC;oCAAI,WAAU;8CACX,cAAA,sMAAC;wCAAM,WAAU;kDACb,cAAA,sMAAC;4CAAM,WAAU;;8DACb,sMAAC;oDAAG,WAAU;;sEACV,sMAAC;4DAAG,WAAU;sEAA4C;;;;;;sEAC1D,sMAAC;4DAAG,WAAU;sEAAuB,MAAM,KAAK,EAAE,eAAe;;;;;;;;;;;;8DAErE,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,sMAAC;4DAAG,WAAU;sEAAY,cAAA,sMAAC;gEAAK,WAAU;0EAAmE,MAAM,KAAK,EAAE,cAAc;;;;;;;;;;;;;;;;;8DAE5I,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,sMAAC;4DAAG,WAAU;sEAAa,MAAM,KAAK,EAAE,QAAQ;;;;;;;;;;;;8DAEpD,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,sMAAC;4DAAG,WAAU;sEAAa,MAAM,KAAK,EAAE,YAAY;;;;;;;;;;;;8DAExD,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,sMAAC;4DAAG,WAAU;sEAAa,MAAM,KAAK,EAAE,aAAa;;;;;;;;;;;;8DAEzD,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,sMAAC;4DAAG,WAAU;sEAAa,MAAM,KAAK,EAAE,aAAa;;;;;;;;;;;;8DAEzD,sMAAC;oDAAG,WAAU;;sEACV,sMAAC;4DAAG,WAAU;sEAAsC;;;;;;sEACpD,sMAAC;4DAAG,WAAU;sEAAuB,MAAM,KAAK,EAAE,YAAY;;;;;;;;;;;;8DAElE,sMAAC;;sEACG,sMAAC;4DAAG,WAAU;sEAA0B;;;;;;sEACxC,sMAAC;4DAAG,WAAU;;gEAAsB;gEAAI,MAAM,KAAK,EAAE,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQjF,sMAAC;;8CACG,sMAAC;oCAAG,WAAU;8CAAqD;;;;;;8CACnE,sMAAC;oCAAI,WAAU;;sDACX,sMAAC;4CAAI,WAAW,CAAC,sBAAsB,EAAE,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI,SAAS,6BAA6B,8BAA8B;;8DACxI,sMAAC;oDAAK,WAAU;8DAAmC;;;;;;8DACnD,sMAAC;oDAAI,WAAU;;sEACX,sMAAC,kOAAQ;4DAAC,WAAU;;;;;;wDACnB,MAAM,QAAQ;wDACd,IAAI,KAAK,MAAM,QAAQ,IAAI,IAAI,wBAAU,sMAAC;4DAAK,WAAU;sEAAuB;;;;;;;;;;;;;;;;;;sDAGzF,sMAAC;4CAAI,WAAU;;8DACX,sMAAC;oDAAK,WAAU;8DAAmC;;;;;;8DACnD,sMAAC;oDAAI,WAAU;8DAA+B,MAAM,SAAS,IAAI;;;;;;8DACjE,sMAAC;oDAAI,WAAU;8DAAyB,MAAM,MAAM;;;;;;;;;;;;sDAExD,sMAAC;4CAAI,WAAW,CAAC,sBAAsB,EAAE,MAAM,UAAU,KAAK,UAAU,6BAA6B,gCAAgC;;8DACjI,sMAAC;oDAAK,WAAU;8DAAmC;;;;;;8DACnD,sMAAC;oDAAI,WAAU;;wDACV,MAAM,UAAU,KAAK,wBAAU,sMAAC,qPAAa;4DAAC,WAAU;;;;;iFAA4B,sMAAC,sPAAW;4DAAC,WAAU;;;;;;sEAC5G,sMAAC;4DAAK,WAAU;sEAAc,MAAM,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQ9D,sMAAC;;8CACG,sMAAC;oCAAG,WAAU;8CAAqD;;;;;;8CACnE,sMAAC;oCAAI,WAAU;8CAEX,cAAA,sMAAC;wCAAI,WAAU;;0DACX,sMAAC;gDAAI,WAAU;0DACX,cAAA,sMAAC,sOAAQ;oDAAC,WAAU;;;;;;;;;;;0DAExB,sMAAC;gDAAE,WAAU;0DAAwB;;;;;;0DACrC,sMAAC;gDAAO,WAAU;0DAAyD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAO1F,MAAM,OAAO,IAAI,MAAM,OAAO,CAAC,MAAM,GAAG,mBACrC,sMAAC;oBAAI,WAAU;;sCACX,sMAAC;4BAAG,WAAU;sCAAqD;;;;;;sCACnE,sMAAC;4BAAI,WAAU;sCACV,MAAM,OAAO,CAAC,KAAK,GAAG,OAAO,GAAG,GAAG,CAAC,CAAC,KAAK,kBACvC,sMAAC;oCAAY,WAAU;;sDACnB,sMAAC;4CAAI,WAAU;sDACV,IAAI,KAAK,IAAI,IAAI,EAAE,kBAAkB,CAAC,EAAE,EAAE;gDAAE,MAAM;gDAAW,QAAQ;4CAAU;;;;;;sDAEpF,sMAAC;;8DACG,sMAAC;oDAAE,WAAU;;wDAA6B,IAAI,MAAM;wDAAC;sEAAC,sMAAC;4DAAK,WAAU;;gEAA4B;gEAAI,IAAI,IAAI,IAAI;;;;;;;;;;;;;8DAClH,sMAAC;oDAAE,WAAU;8DAAyB,IAAI,OAAO;;;;;;8DACjD,sMAAC;oDAAE,WAAU;8DAA6B,IAAI,KAAK,IAAI,IAAI,EAAE,kBAAkB;;;;;;;;;;;;;mCAP7E;;;;;;;;;;;;;;;;8BAgB1B,sMAAC;oBAAI,WAAU;;sCACX,sMAAC;4BAAO,SAAS;4BAAU,WAAU;;8CACjC,sMAAC,gOAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAElC,sMAAC;4BAAI,WAAU;;8CACX,sMAAC;oCAAO,SAAS,IAAM,OAAO,KAAK;oCAAI,WAAU;;sDAC7C,sMAAC,+NAAO;4CAAC,WAAU;;;;;;wCAAY;;;;;;;8CAEnC,sMAAC;oCAAO,SAAS;oCAAS,WAAU;8CAA2E;;;;;;8CAC/G,sMAAC;oCAAO,SAAS;oCAAY,WAAU;8CAAyI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxM;IArMS;MAAA"}}]
}