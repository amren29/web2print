{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/mohamedamrin/Desktop/Web2Print/admin/src/app/api/settings/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\nimport fs from 'fs';\nimport path from 'path';\n\n// Adjust path to reach the root web2print/src/config/site-settings.json\n// content is in /admin/src/app/api/settings/route.ts\n// We need to go up: api -> app -> src -> admin -> web2print -> src -> config\nconst CONFIG_PATH = path.join(process.cwd(), '../src/config/site-settings.json');\n\nexport async function GET() {\n    try {\n        if (!fs.existsSync(CONFIG_PATH)) {\n            return NextResponse.json({ error: \"Config file not found\" }, { status: 404 });\n        }\n        const data = fs.readFileSync(CONFIG_PATH, 'utf-8');\n        return NextResponse.json(JSON.parse(data));\n    } catch (error) {\n        return NextResponse.json({ error: \"Failed to read config\" }, { status: 500 });\n    }\n}\n\nexport async function POST(req: Request) {\n    try {\n        const body = await req.json();\n        // Ensure directory exists\n        const dir = path.dirname(CONFIG_PATH);\n        if (!fs.existsSync(dir)) {\n            fs.mkdirSync(dir, { recursive: true });\n        }\n        fs.writeFileSync(CONFIG_PATH, JSON.stringify(body, null, 2));\n        return NextResponse.json({ success: true, message: \"Settings saved\" });\n    } catch (error) {\n        console.error(error);\n        return NextResponse.json({ error: \"Failed to save config\" }, { status: 500 });\n    }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,wEAAwE;AACxE,qDAAqD;AACrD,6EAA6E;AAC7E,MAAM,cAAc,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEtC,eAAe;IAClB,IAAI;QACA,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,cAAc;YAC7B,OAAO,yJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAwB,GAAG;gBAAE,QAAQ;YAAI;QAC/E;QACA,MAAM,OAAO,wGAAE,CAAC,YAAY,CAAC,aAAa;QAC1C,OAAO,yJAAY,CAAC,IAAI,CAAC,KAAK,KAAK,CAAC;IACxC,EAAE,OAAO,OAAO;QACZ,OAAO,yJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,0BAA0B;QAC1B,MAAM,MAAM,4GAAI,CAAC,OAAO,CAAC;QACzB,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,MAAM;YACrB,wGAAE,CAAC,SAAS,CAAC,KAAK;gBAAE,WAAW;YAAK;QACxC;QACA,wGAAE,CAAC,aAAa,CAAC,aAAa,KAAK,SAAS,CAAC,MAAM,MAAM;QACzD,OAAO,yJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAAiB;IACxE,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC;QACd,OAAO,yJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IAC/E;AACJ"}}]
}